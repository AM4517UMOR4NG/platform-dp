<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Netflix Clone - Enhanced</title>
    <link href="./output.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script> 
    <style>
        /* Sembunyikan scrollbar tapi tetap bisa di-scroll */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        /* Custom scroll snap untuk slider */
        .scroll-snap-x {
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
        }
        .scroll-snap-start {
            scroll-snap-align: start;
        }
        /* Movie Card & Overlay */
        .movie-card {
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease-in-out, z-index 0.3s ease-in-out;
        }
        .movie-card:hover {
            transform: scale(1.1); /* Sedikit lebih besar saat hover */
            z-index: 20; /* Pastikan di atas kartu lain */
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }
        .movie-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.85); /* Lebih gelap saat overlay aktif */
            color: white;
            padding: 8px;
            transform: translateY(100%);
            opacity: 0;
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            pointer-events: none; /* Agar tidak menghalangi event hover pada card */
        }
        .movie-card:hover .movie-overlay {
            transform: translateY(0);
            opacity: 1;
            pointer-events: auto; /* Aktifkan pointer events saat overlay muncul */
        }

        /* Movie Detail Pop-up */
        .movie-detail-popup {
            position: absolute;
            background: #181818; /* Background gelap khas Netflix */
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
            z-index: 50; /* Pastikan di atas semua elemen lain */
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: opacity 0.2s ease-out, transform 0.2s ease-out, visibility 0.2s;
            pointer-events: none;
            width: 320px; /* Lebar pop-up, sesuaikan */
            max-width: 90vw; /* Maksimum lebar layar */
        }
        .movie-detail-popup.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            pointer-events: auto;
        }
        .movie-detail-popup .thumbnail-video {
            width: 100%;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
            position: relative;
            background-color: black;
            overflow: hidden;
        }
        .movie-detail-popup .thumbnail-video iframe,
        .movie-detail-popup .thumbnail-video img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .text-shadow-md {
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }

        /* Search input specific styles */
        #search-input {
            width: 0;
            opacity: 0;
            transition: width 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        #search-input.expanded {
            width: 200px; /* Lebar saat diperluas */
            opacity: 1;
        }
    </style>
</head>
<body class="bg-black text-white font-sans">

    <header id="main-header" class="fixed top-0 left-0 w-full z-50 p-4 flex items-center justify-between transition-colors duration-300 bg-gradient-to-b from-black to-transparent">
        <div class="flex items-center space-x-8">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netflix_2015_logo.svg/1920px-Netflix_2015_logo.svg.png" 
                 alt="Netflix Logo" class="h-6 md:h-8">
            
            <nav class="hidden md:flex space-x-6 text-sm">
                <a href="#" class="text-white font-semibold hover:text-gray-300 transition-colors">Home</a>
                <a href="#" class="text-gray-400 hover:text-gray-300 transition-colors">TV Shows</a>
                <a href="#" class="text-gray-400 hover:text-gray-300 transition-colors">Movies</a>
                <a href="#" class="text-gray-400 hover:text-gray-300 transition-colors">New & Popular</a>
                <a href="#" class="text-gray-400 hover:text-gray-300 transition-colors">My List</a>
            </nav>
        </div>

        <div class="flex items-center space-x-4">
            <div class="flex items-center">
                <input type="text" id="search-input" placeholder="Titles, people, genres" 
                       class="bg-black border border-gray-600 text-white p-2 rounded-md text-sm outline-none focus:border-white">
                <button id="search-button" class="text-white hover:text-gray-300 transition-colors p-2">
                    <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                </button>
            </div>
            
            <span class="text-sm hidden md:block">Kids</span>
            <button class="text-white hover:text-gray-300 transition-colors">
                <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path></svg>
            </button>
            <img src="https://wallpapers.com/images/high/netflix-profile-pictures-1000-x-1000-880y9m50q5ufu2ow.webp" 
                 alt="Profile" class="h-8 w-8 rounded cursor-pointer ring-2 ring-transparent hover:ring-white transition-all">
        </div>
    </header>

    <section id="hero-section" class="relative h-screen flex items-end pb-16 bg-cover bg-center" 
             style="background-image: url('https://assets.nflxext.com/ffe/siteui/vlv3/f841d4c7-10e1-40ff-8d53-a39118bcabff/f80b2a59-195c-4f15-a7b3-c351f0ee3a85/ID-en-20240506-popsignuptwoweeks-perspective_alpha_website_large.jpg');">
        
        <div class="absolute inset-0 bg-gradient-to-t from-black via-black/30 to-transparent"></div>
        
        <div id="hero-content" class="relative z-10 p-8 md:p-16 max-w-2xl">
            <img src="https://variety.com/wp-content/uploads/2021/06/Loki-TV.jpeg?w=1000&h=750&crop=1" alt="Loki Logo" class="h-16 md:h-24 mb-4 object-contain">
            <h1 class="hidden text-4xl md:text-6xl font-bold mb-4">Loki</h1> 
            <p class="text-base md:text-lg mb-6 leading-relaxed text-shadow-md">
                Petualangan God of Mischief Loki berlanjut setelah ia melarikan diri dengan Tesseract di Avengers: Endgame,
                menemukan dirinya di hadapan Otoritas Variasi Waktu yang misterius.
            </p>
            <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4">
                <button id="play-button" class="flex items-center justify-center bg-white text-black px-6 py-3 rounded-md font-semibold text-lg hover:bg-gray-200 transition-colors shadow-lg">
                    <svg class="h-6 w-6 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg>
                    Play
                </button>
                <button class="flex items-center justify-center bg-gray-700 text-white px-6 py-3 rounded-md font-semibold text-lg hover:bg-gray-600 transition-colors shadow-lg">
                    <svg class="h-6 w-6 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"></path></svg>
                    More Info
                </button>
            </div>
        </div>

        <div id="trailer-container" class="absolute inset-0 z-0 hidden">
            <iframe id="hero-iframe"
                src="https://www.youtube.com/embed/nW948Va-l10?autoplay=0&controls=0&modestbranding=1&rel=0&showinfo=0&loop=1&playlist=nW948Va-l10" 
                frameborder="0" 
                allow="autoplay; encrypted-media" 
                allowfullscreen 
                class="w-full h-full object-cover">
            </iframe>
            <button id="back-to-hero-button" class="absolute top-4 left-4 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors z-20">
                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
        </div>
    </section>

    <main class="relative z-20 -mt-24 md:-mt-32 pb-16">
        <section class="mb-8 px-4 md:px-8">
            <h2 class="text-xl md:text-2xl font-semibold mb-4 cursor-pointer hover:text-gray-300">Trending Now <span class="text-sm ml-2 text-gray-400">></span></h2>
            <div class="relative group">
                <div id="row-trending" class="flex overflow-x-scroll no-scrollbar scroll-snap-x space-x-2 md:space-x-4 pb-4">
                    <div class="movie-card w-40 md:w-56 flex-shrink-0 cursor-pointer relative rounded-lg overflow-hidden"
                         data-title="Loki Season 2" 
                         data-description="Petualangan God of Mischief Loki berlanjut setelah ia melarikan diri dengan Tesseract di Avengers: Endgame, menemukan dirinya di hadapan Otoritas Variasi Waktu yang misterius."
                         data-rating="8.5"
                         data-year="2023"
                         data-genres="Sci-Fi, Fantasy"
                         data-trailer-url="https://www.youtube.com/embed/nW948Va-l10?autoplay=1&controls=0&modestbranding=1&rel=0&showinfo=0&loop=1&playlist=nW948Va-l10">
                        <img src="https://image.tmdb.org/t/p/w500/rMvTnWoCuyeadqzGpsxkSygfhlJ.jpg" alt="Loki Season 2" class="rounded-lg shadow-lg">
                        <div class="movie-overlay">
                            <button class="bg-white text-black px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-200">
                                <svg class="h-4 w-4 inline-block mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg> Play
                            </button>
                            <p class="text-xs mt-2 text-center hidden md:block">Rating: 8.5/10</p>
                        </div>
                    </div>
                    <div class="movie-card w-40 md:w-56 flex-shrink-0 cursor-pointer relative rounded-lg overflow-hidden"
                         data-title="Squid Game" 
                         data-description="Ratusan orang yang terlilit utang diundang untuk memainkan permainan anak-anak dengan taruhan tinggi, namun konsekuensinya mematikan."
                         data-rating="9.1"
                         data-year="2021"
                         data-genres="Thriller, Drama"
                         data-trailer-url="https://www.youtube.com/embed/SWp5D_fB24I?autoplay=1&controls=0&modestbranding=1&rel=0&showinfo=0&loop=1&playlist=SWp5D_fB24I">
                        <img src="https://image.tmdb.org/t/p/w500/uJSS08R69C9b0Yy49aN7LwP0vWJ.jpg" alt="Squid Game" class="rounded-lg shadow-lg">
                        <div class="movie-overlay">
                            <button class="bg-white text-black px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-200">
                                <svg class="h-4 w-4 inline-block mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg> Play
                            </button>
                            <p class="text-xs mt-2 text-center hidden md:block">Rating: 9.1/10</p>
                        </div>
                    </div>
                    <div class="movie-card w-40 md:w-56 flex-shrink-0 cursor-pointer relative rounded-lg overflow-hidden"
                         data-title="Sweet Home" 
                         data-description="Monster tiba-tiba muncul dan menyerang umat manusia, membuat mereka yang tersisa bersembunyi di apartemen mereka."
                         data-rating="7.7"
                         data-year="2020"
                         data-genres="Horror, Sci-Fi"
                         data-trailer-url="https://www.youtube.com/embed/zM4_o-L4i7o?autoplay=1&controls=0&modestbranding=1&rel=0&showinfo=0&loop=1&playlist=zM4_o-L4i7o">
                        <img src="https://image.tmdb.org/t/p/w500/n5wzLhN0Y7z0mG0J6C5B3A7x9V0.jpg" alt="Sweet Home" class="rounded-lg shadow-lg">
                        <div class="movie-overlay">
                            <button class="bg-white text-black px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-200">
                                <svg class="h-4 w-4 inline-block mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg> Play
                            </button>
                            <p class="text-xs mt-2 text-center hidden md:block">Rating: 7.7/10</p>
                        </div>
                    </div>
                    <div class="movie-card w-40 md:w-56 flex-shrink-0 cursor-pointer relative rounded-lg overflow-hidden"
                         data-title="All of Us Are Dead" 
                         data-description="Para siswa terjebak di sekolah dan harus melawan para zombie yang berubah menjadi virus, dengan bahaya dari luar."
                         data-rating="7.4"
                         data-year="2022"
                         data-genres="Horror, Action"
                         data-trailer-url="https://www.youtube.com/embed/hJ8byC4933g?autoplay=1&controls=0&modestbranding=1&rel=0&showinfo=0&loop=1&playlist=hJ8byC4933g">
                        <img src="https://image.tmdb.org/t/p/w500/oBIQDKDbgzGfKXrHp3Jb3K8z9w.jpg" alt="All of Us Are Dead" class="rounded-lg shadow-lg">
                        <div class="movie-overlay">
                            <button class="bg-white text-black px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-200">
                                <svg class="h-4 w-4 inline-block mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg> Play
                            </button>
                            <p class="text-xs mt-2 text-center hidden md:block">Rating: 7.4/10</p>
                        </div>
                    </div>
                    <div class="movie-card w-40 md:w-56 flex-shrink-0 cursor-pointer relative rounded-lg overflow-hidden"
                         data-title="Extraction 2" 
                         data-description="Setelah selamat dari kematian, Tyler Rake kembali untuk misi lain: menyelamatkan keluarga gangster Georgia dari penjara tempat mereka ditahan."
                         data-rating="7.0"
                         data-year="2023"
                         data-genres="Action, Thriller"
                         data-trailer-url="https://www.youtube.com/embed/Y2KxI9z8aX8?autoplay=1&controls=0&modestbranding=1&rel=0&showinfo=0&loop=1&playlist=Y2KxI9z8aX8">
                        <img src="https://image.tmdb.org/t/p/w500/jR8C5F60xZ5z9D85S1z6T6X4XkX.jpg" alt="Extraction 2" class="rounded-lg shadow-lg">
                        <div class="movie-overlay">
                            <button class="bg-white text-black px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-200">
                                <svg class="h-4 w-4 inline-block mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg> Play
                            </button>
                            <p class="text-xs mt-2 text-center hidden md:block">Rating: 7.0/10</p>
                        </div>
                    </div>
                    <div class="movie-card w-40 md:w-56 flex-shrink-0 cursor-pointer relative rounded-lg overflow-hidden"
                         data-title="Stranger Things" 
                         data-description="Sekelompok teman muda menyaksikan kekuatan supernatural dan petualangan rahasia pemerintah. Mereka akan mencari cara untuk menyelamatkan kota mereka."
                         data-rating="8.7"
                         data-year="2016"
                         data-genres="Sci-Fi, Horror"
                         data-trailer-url="https://www.youtube.com/embed/mnd7s5cPN1Q?autoplay=1&controls=0&modestbranding=1&rel=0&showinfo=0&loop=1&playlist=mnd7s5cPN1Q">
                        <img src="https://image.tmdb.org/t/p/w500/s9D8M5R9ZgD8V3Q6X7X8X6X8Z.jpg" alt="Stranger Things" class="rounded-lg shadow-lg">
                        <div class="movie-overlay">
                            <button class="bg-white text-black px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-200">
                                <svg class="h-4 w-4 inline-block mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg> Play
                            </button>
                            <p class="text-xs mt-2 text-center hidden md:block">Rating: 8.7/10</p>
                        </div>
                    </div>
                    <div class="movie-card w-40 md:w-56 flex-shrink-0 cursor-pointer relative rounded-lg overflow-hidden"
                         data-title="Money Heist" 
                         data-description="Delapan pencuri menyandera dan mengunci diri di Royal Mint Spanyol sementara seorang jenius kriminal memanipulasi polisi untuk melaksanakan rencana pencuriannya."
                         data-rating="8.3"
                         data-year="2017"
                         data-genres="Crime, Thriller"
                         data-trailer-url="https://www.youtube.com/embed/_InqQJRqGW4?autoplay=1&controls=0&modestbranding=1&rel=0&showinfo=0&loop=1&playlist=_InqQJRqGW4">
                        <img src="https://image.tmdb.org/t/p/w500/pD7WzQ6l8L5q5x9b3K1z9S1x5W7.jpg" alt="Money Heist" class="rounded-lg shadow-lg">
                        <div class="movie-overlay">
                            <button class="bg-white text-black px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-200">
                                <svg class="h-4 w-4 inline-block mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg> Play
                            </button>
                            <p class="text-xs mt-2 text-center hidden md:block">Rating: 8.3/10</p>
                        </div>
                    </div>
                </div>
                <button onclick="scrollRow('row-trending', -400)" class="absolute left-0 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 p-2 rounded-r-md hidden group-hover:block transition-opacity duration-300">
                    <svg class="h-6 w-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                </button>
                <button onclick="scrollRow('row-trending', 400)" class="absolute right-0 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 p-2 rounded-l-md hidden group-hover:block transition-opacity duration-300">
                    <svg class="h-6 w-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </button>
            </div>
        </section>

        <section class="mb-8 px-4 md:px-8">
            <h2 class="text-xl md:text-2xl font-semibold mb-4 cursor-pointer hover:text-gray-300">New Releases <span class="text-sm ml-2 text-gray-400">></span></h2>
            <div class="relative group">
                <div id="row-new-releases" class="flex overflow-x-scroll no-scrollbar scroll-snap-x space-x-2 md:space-x-4 pb-4">
                    <div class="movie-card w-40 md:w-56 flex-shrink-0 cursor-pointer relative rounded-lg overflow-hidden"
                         data-title="Dune: Part Two" 
                         data-description="Paul Atreides bersatu dengan Chani dan Fremen saat dia berada di jalur balas dendam terhadap orang-orang yang menghancurkan keluarganya."
                         data-rating="8.4"
                         data-year="2024"
                         data-genres="Sci-Fi, Adventure"
                         data-trailer-url="https://www.youtube.com/embed/Way9Dexny3w?autoplay=1&controls=0&modestbranding=1&rel=0&showinfo=0&loop=1&playlist=Way9Dexny3w">
                        <img src="https://image.tmdb.org/t/p/w500/6KErczBLQY6azBLdLr5fH3NnK6b.jpg" alt="Dune: Part Two" class="rounded-lg shadow-lg">
                        <div class="movie-overlay">
                            <button class="bg-white text-black px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-200">
                                <svg class="h-4 w-4 inline-block mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg> Play
                            </button>
                            <p class="text-xs mt-2 text-center hidden md:block">Rating: 8.4/10</p>
                        </div>
                    </div>
                    <div class="movie-card w-40 md:w-56 flex-shrink-0 cursor-pointer relative rounded-lg overflow-hidden"
                         data-title="Godzilla Minus One" 
                         data-description="Setelah kekalahan Jepang pasca-perang, ancaman baru muncul dalam bentuk Godzilla, mendorong Jepang ke kehancuran."
                         data-rating="8.4"
                         data-year="2023"
                         data-genres="Sci-Fi, Action"
                         data-trailer-url="https://www.youtube.com/embed/jB5kR75s5N4?autoplay=1&controls=0&modestbranding=1&rel=0&showinfo=0&loop=1&playlist=jB5kR75s5N4">
                        <img src="https://image.tmdb.org/t/p/w500/pDynekxWp5zS4X4X7F3z5C8Y8S1.jpg" alt="Godzilla Minus One" class="rounded-lg shadow-lg">
                        <div class="movie-overlay">
                            <button class="bg-white text-black px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-200">
                                <svg class="h-4 w-4 inline-block mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg> Play
                            </button>
                            <p class="text-xs mt-2 text-center hidden md:block">Rating: 8.4/10</p>
                        </div>
                    </div>
                    <div class="movie-card w-40 md:w-56 flex-shrink-0 cursor-pointer relative rounded-lg overflow-hidden"
                         data-title="Oppenheimer" 
                         data-description="Kisah di balik pengembangan bom atom oleh J. Robert Oppenheimer selama Perang Dunia II."
                         data-rating="8.6"
                         data-year="2023"
                         data-genres="Drama, History"
                         data-trailer-url="https://www.youtube.com/embed/bK6ldnjE0Y8?autoplay=1&controls=0&modestbranding=1&rel=0&showinfo=0&loop=1&playlist=bK6ldnjE0Y8">
                        <img src="https://image.tmdb.org/t/p/w500/rMvTnWoCuyeadqzGpsxkSygfhlJ.jpg" alt="Oppenheimer" class="rounded-lg shadow-lg">
                        <div class="movie-overlay">
                            <button class="bg-white text-black px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-200">
                                <svg class="h-4 w-4 inline-block mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg> Play
                            </button>
                            <p class="text-xs mt-2 text-center hidden md:block">Rating: 8.6/10</p>
                        </div>
                    </div>
                    <div class="movie-card w-40 md:w-56 flex-shrink-0 cursor-pointer relative rounded-lg overflow-hidden"
                         data-title="Leo" 
                         data-description="Komedi musikal animasi tentang seekor kadal peliharaan yang bosan dengan hidupnya dan memutuskan untuk melarikan diri."
                         data-rating="7.0"
                         data-year="2023"
                         data-genres="Animation, Comedy"
                         data-trailer-url="https://www.youtube.com/embed/nO_mB8-Y_1Y?autoplay=1&controls=0&modestbranding=1&rel=0&showinfo=0&loop=1&playlist=nO_mB8-Y_1Y">
                        <img src="https://image.tmdb.org/t/p/w500/uJSS08R69C9b0Yy49aN7LwP0vWJ.jpg" alt="Leo" class="rounded-lg shadow-lg">
                        <div class="movie-overlay">
                            <button class="bg-white text-black px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-200">
                                <svg class="h-4 w-4 inline-block mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg> Play
                            </button>
                            <p class="text-xs mt-2 text-center hidden md:block">Rating: 7.0/10</p>
                        </div>
                    </div>
                    <div class="movie-card w-40 md:w-56 flex-shrink-0 cursor-pointer relative rounded-lg overflow-hidden"
                         data-title="Rebel Moon" 
                         data-description="Ketika pasukan tiran mengancam pemukiman yang damai di sebuah koloni, seorang wanita misterius menjadi harapan terakhir mereka untuk bertahan hidup."
                         data-rating="5.5"
                         data-year="2023"
                         data-genres="Sci-Fi, Action"
                         data-trailer-url="https://www.youtube.com/embed/P6yM_E_JvB4?autoplay=1&controls=0&modestbranding=1&rel=0&showinfo=0&loop=1&playlist=P6yM_E_JvB4">
                        <img src="https://image.tmdb.org/t/p/w500/n5wzLhN0Y7z0mG0J6C5B3A7x9V0.jpg" alt="Rebel Moon" class="rounded-lg shadow-lg">
                        <div class="movie-overlay">
                            <button class="bg-white text-black px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-200">
                                <svg class="h-4 w-4 inline-block mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg> Play
                            </button>
                            <p class="text-xs mt-2 text-center hidden md:block">Rating: 5.5/10</p>
                        </div>
                    </div>
                    <div class="movie-card w-40 md:w-56 flex-shrink-0 cursor-pointer relative rounded-lg overflow-hidden"
                         data-title="Wonka" 
                         data-description="Kisah Willy Wonka muda sebelum ia menjadi pemilik pabrik cokelat yang terkenal di dunia."
                         data-rating="7.2"
                         data-year="2023"
                         data-genres="Fantasy, Comedy"
                         data-trailer-url="https://www.youtube.com/embed/ot_mB8-Y_1P?autoplay=1&controls=0&modestbranding=1&rel=0&showinfo=0&loop=1&playlist=ot_mB8-Y_1P">
                        <img src="https://image.tmdb.org/t/p/w500/oBIQDKDbgzGfKXrHp3Jb3K8z9w.jpg" alt="Wonka" class="rounded-lg shadow-lg">
                        <div class="movie-overlay">
                            <button class="bg-white text-black px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-200">
                                <svg class="h-4 w-4 inline-block mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg> Play
                            </button>
                            <p class="text-xs mt-2 text-center hidden md:block">Rating: 7.2/10</p>
                        </div>
                    </div>
                </div>
                <button onclick="scrollRow('row-new-releases', -400)" class="absolute left-0 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 p-2 rounded-r-md hidden group-hover:block transition-opacity duration-300">
                    <svg class="h-6 w-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                </button>
                <button onclick="scrollRow('row-new-releases', 400)" class="absolute right-0 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 p-2 rounded-l-md hidden group-hover:block transition-opacity duration-300">
                    <svg class="h-6 w-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </button>
            </div>
        </section>
        
        <section id="search-results-section" class="mb-8 px-4 md:px-8 hidden">
            <h2 class="text-xl md:text-2xl font-semibold mb-4">Search Results for: "<span id="search-query-display"></span>"</h2>
            <div id="search-results-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 pb-4">
                </div>
            <p id="no-results-message" class="text-gray-400 text-center hidden">No results found.</p>
        </section>
    </main>

    <div id="movie-detail-popup" class="movie-detail-popup fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50">
        <div class="thumbnail-video">
            <img id="popup-thumbnail" src="" alt="Movie Thumbnail" class="object-cover">
            <iframe id="popup-iframe" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen class="hidden"></iframe>
            <button id="popup-play-button" class="absolute inset-0 flex items-center justify-center text-white text-6xl opacity-80 hover:opacity-100 transition-opacity">
                <svg class="h-16 w-16" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg>
            </button>
        </div>
        <div class="p-4">
            <h3 id="popup-title" class="text-2xl font-bold mb-2"></h3>
            <p class="text-sm text-gray-400 mb-2">
                <span id="popup-year"></span> | 
                <span id="popup-rating" class="inline-flex items-center">
                    <svg class="h-4 w-4 mr-1 text-yellow-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.538 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.783.57-1.838-.197-1.538-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"></path></svg>
                    <span class="font-bold"></span>
                </span> | 
                <span id="popup-genres"></span>
            </p>
            <p id="popup-description" class="text-sm text-gray-300 leading-relaxed mb-4"></p>
            <div class="flex space-x-2">
                <button class="flex items-center bg-white text-black px-4 py-2 rounded-md font-semibold text-sm hover:bg-gray-200">
                    <svg class="h-5 w-5 mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"></path></svg> Play
                </button>
                <button class="flex items-center bg-gray-700 text-white px-4 py-2 rounded-md font-semibold text-sm hover:bg-gray-600">
                    <svg class="h-5 w-5 mr-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2c-5.523 0-10 4.477-10 10s4.477 10 10 10 10-4.477 10-10-4.477-10-10-10zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"></path></svg> Info
                </button>
            </div>
        </div>
        <button id="popup-close-button" class="absolute top-2 right-2 bg-black/70 text-white p-2 rounded-full hover:bg-black/90 transition-colors">
            <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
    </div>
    <div id="overlay" class="fixed inset-0 bg-black/70 z-40 hidden"></div>

    <footer class="p-8 text-center text-gray-500 text-sm">
        <p>© 2025 Netflix Clone by YourName. All rights reserved.</p>
        <p>This is a demonstration project and not affiliated with Netflix, Inc.</p>
    </footer>

    <script>
        // ----------------------------------------------------
        // Global Variables
        // ----------------------------------------------------
        const header = document.getElementById('main-header');
        const playButtonHero = document.getElementById('play-button');
        const heroSection = document.getElementById('hero-section');
        const heroContent = document.getElementById('hero-content');
        const trailerContainer = document.getElementById('trailer-container');
        const backToHeroButton = document.getElementById('back-to-hero-button');
        const heroIframe = document.getElementById('hero-iframe');
        const searchButton = document.getElementById('search-button');
        const searchInput = document.getElementById('search-input');
        const movieCards = document.querySelectorAll('.movie-card');
        const movieDetailPopup = document.getElementById('movie-detail-popup');
        const popupCloseButton = document.getElementById('popup-close-button');
        const overlay = document.getElementById('overlay');
        const searchResultsSection = document.getElementById('search-results-section');
        const searchResultsGrid = document.getElementById('search-results-grid');
        const searchQueryDisplay = document.getElementById('search-query-display');
        const noResultsMessage = document.getElementById('no-results-message');

        // ----------------------------------------------------
        // 1. Header Scroll Effect
        // ----------------------------------------------------
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                header.classList.add('bg-black', 'shadow-lg');
                header.classList.remove('from-black', 'to-transparent');
            } else {
                header.classList.remove('bg-black', 'shadow-lg');
                header.classList.add('from-black', 'to-transparent');
            }
        });

        // ----------------------------------------------------
        // 2. Movie Row Horizontal Scroll
        // ----------------------------------------------------
        function scrollRow(rowId, amount) {
            const row = document.getElementById(rowId);
            row.scrollBy({
                left: amount,
                behavior: 'smooth'
            });
        }

        // ----------------------------------------------------
        // 3. Hero Section Trailer Playback
        // ----------------------------------------------------
        playButtonHero.addEventListener('click', () => {
            heroContent.classList.add('hidden');
            trailerContainer.classList.remove('hidden');
            // Pastikan autoplay aktif
            const currentSrc = heroIframe.src;
            if (!currentSrc.includes('autoplay=1')) {
                heroIframe.src = currentSrc + '&autoplay=1';
            } else {
                heroIframe.src = currentSrc.replace('autoplay=0', 'autoplay=1'); // fallback if already has autoplay=0
            }
            heroSection.style.backgroundImage = 'none'; // Remove background image
        });

        backToHeroButton.addEventListener('click', () => {
            trailerContainer.classList.add('hidden');
            heroContent.classList.remove('hidden');
            // Stop video by resetting src
            const currentSrc = heroIframe.src;
            heroIframe.src = currentSrc.replace('autoplay=1', 'autoplay=0'); // Stop autoplay
            heroSection.style.backgroundImage = "url('https://assets.nflxext.com/ffe/siteui/vlv3/f841d4c7-10e1-40ff-8d53-a39118bcabff/f80b2a59-195c-4f15-a7b3-c351f0ee3a85/ID-en-20240506-popsignuptwoweeks-perspective_alpha_website_large.jpg')";
        });

        // ----------------------------------------------------
        // 4. Movie Card Hover Effects (Video Preview & Detail Pop-up)
        // ----------------------------------------------------
        let popupTimeout; // Untuk menunda menampilkan pop-up
        let currentPlayingIframe = null; // Melacak iframe yang sedang diputar

        movieCards.forEach(card => {
            const popupThumbnail = movieDetailPopup.querySelector('#popup-thumbnail');
            const popupIframe = movieDetailPopup.querySelector('#popup-iframe');
            const popupPlayButton = movieDetailPopup.querySelector('#popup-play-button');

            // Data diambil dari data- attributes
            const movieTitle = card.dataset.title;
            const movieDescription = card.dataset.description;
            const movieRating = card.dataset.rating;
            const movieYear = card.dataset.year;
            const movieGenres = card.dataset.genres;
            const movieTrailerUrl = card.dataset.trailerUrl;
            const moviePoster = card.querySelector('img').src;


            // Ketika mouse masuk (hover) ke movie card
            card.addEventListener('mouseenter', (event) => {
                // Clear any existing timeout
                clearTimeout(popupTimeout);

                // Dapatkan posisi kartu untuk menempatkan pop-up
                const cardRect = card.getBoundingClientRect();
                const viewportWidth = window.innerWidth;
                const popupWidth = 320; // Sesuaikan dengan lebar pop-up di CSS

                // Hitung posisi horizontal pop-up agar tidak keluar layar
                let popupLeft = cardRect.left + (cardRect.width / 2) - (popupWidth / 2);
                if (popupLeft < 10) { // Jika terlalu kiri
                    popupLeft = 10;
                } else if (popupLeft + popupWidth > viewportWidth - 10) { // Jika terlalu kanan
                    popupLeft = viewportWidth - popupWidth - 10;
                }
                
                // Set posisi pop-up
                movieDetailPopup.style.top = `${cardRect.top + window.scrollY - 20}px`; // Sedikit di atas kartu
                movieDetailPopup.style.left = `${popupLeft}px`;

                // Isi detail pop-up
                movieDetailPopup.querySelector('#popup-title').textContent = movieTitle;
                movieDetailPopup.querySelector('#popup-description').textContent = movieDescription;
                movieDetailPopup.querySelector('#popup-rating span:last-child').textContent = movieRating + '/10';
                movieDetailPopup.querySelector('#popup-year').textContent = movieYear;
                movieDetailPopup.querySelector('#popup-genres').textContent = movieGenres;
                popupThumbnail.src = moviePoster; // Set gambar thumbnail pop-up
                
                // Reset iframe
                popupIframe.src = '';
                popupIframe.classList.add('hidden');
                popupThumbnail.classList.remove('hidden');
                popupPlayButton.classList.remove('hidden');

                // Tunda menampilkan pop-up dan memulai video
                popupTimeout = setTimeout(() => {
                    movieDetailPopup.classList.add('show');
                    overlay.classList.remove('hidden'); // Tampilkan overlay
                    // Otomatis putar video di pop-up setelah muncul
                    if (movieTrailerUrl) {
                        popupIframe.src = movieTrailerUrl;
                        popupIframe.classList.remove('hidden');
                        popupThumbnail.classList.add('hidden');
                        popupPlayButton.classList.add('hidden');
                        currentPlayingIframe = popupIframe;
                    }
                }, 500); // Tunda 500ms

                // Event listener untuk tombol play di pop-up thumbnail (jika video tidak autoplay)
                popupPlayButton.onclick = () => {
                    if (movieTrailerUrl) {
                        popupIframe.src = movieTrailerUrl;
                        popupIframe.classList.remove('hidden');
                        popupThumbnail.classList.add('hidden');
                        popupPlayButton.classList.add('hidden');
                        currentPlayingIframe = popupIframe;
                    }
                };
            });

            // Ketika mouse meninggalkan movie card atau pop-up detail
            card.addEventListener('mouseleave', () => {
                clearTimeout(popupTimeout); // Hapus timeout jika mouse keluar sebelum pop-up muncul
                // Sembunyikan pop-up jika mouse keluar dari kartu
                // Menunda sedikit untuk memberikan waktu mouse bergerak ke pop-up jika ingin berinteraksi
                setTimeout(() => {
                    if (!movieDetailPopup.matches(':hover')) { // Hanya sembunyikan jika mouse tidak di atas pop-up
                        movieDetailPopup.classList.remove('show');
                        overlay.classList.add('hidden'); // Sembunyikan overlay
                        // Stop video di pop-up jika ada
                        if (currentPlayingIframe) {
                            currentPlayingIframe.src = currentPlayingIframe.src.replace('autoplay=1', 'autoplay=0'); // Stop autoplay
                            currentPlayingIframe = null;
                        }
                    }
                }, 100); // Penundaan 100ms
            });
        });

        // Tutup pop-up jika klik tombol tutup
        popupCloseButton.addEventListener('click', () => {
            movieDetailPopup.classList.remove('show');
            overlay.classList.add('hidden');
            if (currentPlayingIframe) {
                currentPlayingIframe.src = currentPlayingIframe.src.replace('autoplay=1', 'autoplay=0'); // Stop autoplay
                currentPlayingIframe = null;
            }
        });

        // Tutup pop-up jika klik overlay
        overlay.addEventListener('click', () => {
            movieDetailPopup.classList.remove('show');
            overlay.classList.add('hidden');
            if (currentPlayingIframe) {
                currentPlayingIframe.src = currentPlayingIframe.src.replace('autoplay=1', 'autoplay=0'); // Stop autoplay
                currentPlayingIframe = null;
            }
        });

        // ----------------------------------------------------
        // 5. Search Functionality
        // ----------------------------------------------------
        searchButton.addEventListener('click', () => {
            searchInput.classList.toggle('expanded'); // Toggle lebar input
            searchInput.focus(); // Fokus ke input saat diperluas
            if (!searchInput.classList.contains('expanded')) { // Jika input dikontrakkan
                performSearch(searchInput.value); // Lakukan pencarian saat input dikontrakkan (atau di-submit)
            }
        });

        searchInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                performSearch(searchInput.value);
            }
        });

        function performSearch(query) {
            query = query.toLowerCase().trim();
            if (query === '') {
                searchResultsSection.classList.add('hidden');
                return;
            }

            searchResultsGrid.innerHTML = ''; // Kosongkan hasil sebelumnya
            noResultsMessage.classList.add('hidden'); // Sembunyikan pesan "tidak ada hasil"

            let resultsFound = false;

            // Dapatkan semua kartu film di halaman
            const allMovieCards = document.querySelectorAll('.movie-card');

            allMovieCards.forEach(card => {
                const title = card.dataset.title.toLowerCase();
                const description = card.dataset.description.toLowerCase();
                const genres = card.dataset.genres.toLowerCase();

                if (title.includes(query) || description.includes(query) || genres.includes(query)) {
                    // Buat clone kartu film untuk hasil pencarian
                    const clonedCard = card.cloneNode(true);
                    clonedCard.classList.remove('w-40', 'md:w-56', 'flex-shrink-0', 'transform', 'hover:scale-105', 'transition-all', 'duration-300', 'ease-in-out', 'relative', 'rounded-lg', 'overflow-hidden');
                    clonedCard.classList.add('w-full', 'h-auto', 'transform', 'hover:scale-105', 'transition-transform', 'duration-200', 'ease-in-out', 'rounded-lg', 'overflow-hidden'); // Sesuaikan ukuran untuk grid
                    clonedCard.querySelector('.movie-overlay').classList.add('hidden'); // Sembunyikan overlay di hasil pencarian grid
                    
                    // Hilangkan event listener mouseenter/mouseleave dari klon
                    // Cara paling sederhana adalah membuat ulang elemen atau menghapus listener secara manual
                    // Untuk demo, kita akan menyembunyikan overlay dan tidak mengaktifkan pop-up dari hasil pencarian
                    searchResultsGrid.appendChild(clonedCard);
                    resultsFound = true;
                }
            });

            // Tampilkan atau sembunyikan section hasil pencarian
            if (resultsFound) {
                searchResultsSection.classList.remove('hidden');
                document.querySelectorAll('main > section:not(#search-results-section)').forEach(section => {
                    section.classList.add('hidden'); // Sembunyikan section film lainnya
                });
            } else {
                searchResultsSection.classList.remove('hidden');
                noResultsMessage.classList.remove('hidden');
                document.querySelectorAll('main > section:not(#search-results-section)').forEach(section => {
                    section.classList.remove('hidden'); // Tampilkan kembali section film lainnya
                });
            }

            searchQueryDisplay.textContent = query;
        }
    </script>
</body>
</html>